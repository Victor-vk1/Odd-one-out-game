q.options.forEach(option => {
    let div = document.createElement("div");
    div.className = "option";
    div.innerText = option;
    div.onclick = () => checkAnswer(option);
    optionsBox.appendChild(div);
  });

  document.getElementById("feedback").innerText = "";
  resetTimer();
}

function checkAnswer(selected) {
  clearInterval(timerInterval);
  let correct = questions[current].answer;
  let feedback = document.getElementById("feedback");

  document.querySelectorAll(".option").forEach(opt => opt.style.pointerEvents = "none");

  if(selected === correct){
    correctStreak++;
    if(correctStreak < 3) feedback.innerText = "Great!";
    else if(correctStreak === 3) feedback.innerText = "Fascinating!";
    else feedback.innerText = "Superb!";
    feedback.style.color = "#00ff00";
    setTimeout(nextQuestion, 1200);
  } else {
    feedback.innerText = "Incorrect!";
    feedback.style.color = "#ff0000";
    setTimeout(() => location.reload(), 1500);
  }
}

function nextQuestion() {
  current++;
  if(current >= questions.length) current = 0; // loop questions
  loadQuestion();
}

function resetTimer() {
  clearInterval(timerInterval);
  timeLeft = 10;
  document.getElementById("timer").innerText = "Time: " + timeLeft + "s";

  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText = "Time: " + timeLeft + "s";
    if(timeLeft <= 0){
      clearInterval(timerInterval);
      document.getElementById("feedback").innerText = "Time's up! Restarting...";
      document.getElementById("feedback").style.color = "#ff0000";
      setTimeout(() => location.reload(), 1500);
    }
  }, 1000);
}

loadQuestion();
</script>

</body>
</html>

      
  
